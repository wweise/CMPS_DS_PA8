<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>CMPS 260 – Project</title>
  <style>* { font-family: monospace; }</style>

  <script>
    console.log("Project");

    // 1. Worst‑case complexity of hasDuplicates:
    // Worst: O(n^2), Average: O(n^2), Best: O(1)

    function hasDuplicates(arr) {
      for (var i = 0; i < arr.length; i++) {
        for (var j = 0; j < arr.length; j++) {
          if (i !== j && arr[i] === arr[j]) {
            return true;
          }
        }
      }
      return false;
    }

    // 2. Faster version (O(n))
    function hasDuplicatesFast(arr) {
      var seen = {};
      for (var i = 0; i < arr.length; i++) {
        if (seen[arr[i]]) {
          return true;
        }
        seen[arr[i]] = true;
      }
      return false;
    }

    // 3. Travelling Salesman Problem (Greedy)

    function Graph() {
      this.nodes = ["A", "B", "C", "D"];
      this.dist = {
        A: { B: 10, C: 15, D: 20 },
        B: { A: 10, C: 35, D: 25 },
        C: { A: 15, B: 35, D: 30 },
        D: { A: 20, B: 25, C: 30 }
      };
    }

    Graph.prototype.greedyTSP = function(start) {
      var visited = {};
      var path = [start];
      var total = 0;
      var current = start;

      visited[start] = true;

      while (path.length < this.nodes.length) {
        var best = null;
        var bestDist = Infinity;

        for (var city in this.dist[current]) {
          if (!visited[city] && this.dist[current][city] < bestDist) {
            bestDist = this.dist[current][city];
            best = city;
          }
        }

        visited[best] = true;
        path.push(best);
        total += bestDist;
        current = best;
      }

      total += this.dist[current][start];
      path.push(start);

      return { path: path, distance: total };
    };

    var g = new Graph();
    var tsp = g.greedyTSP("A");
    console.log("TSP Path:", tsp.path);
    console.log("TSP Distance:", tsp.distance);

    // 4. Intersecting rectangles

    function Rectangle(x1, y1, x2, y2) {
      this.x1 = x1;
      this.y1 = y1;
      this.x2 = x2;
      this.y2 = y2;
    }

    Rectangle.prototype.intersects = function(other) {
      return !(
        this.x2 < other.x1 ||
        this.x1 > other.x2 ||
        this.y2 < other.y1 ||
        this.y1 > other.y2
      );
    };

    function countIntersections(rects) {
      var count = 0;
      for (var i = 0; i < rects.length; i++) {
        for (var j = i + 1; j < rects.length; j++) {
          if (rects[i].intersects(rects[j])) {
            count++;
          }
        }
      }
      return count;
    }

    var rects = [
      new Rectangle(0, 0, 4, 4),
      new Rectangle(2, 2, 6, 6),
      new Rectangle(10, 10, 12, 12)
    ];

    console.log("Intersecting pairs:", countIntersections(rects));
    // Runtime: O(n^2)

  </script>
</head>

<body>
  <h1>Check the console for output</h1>
</body>
</html>
